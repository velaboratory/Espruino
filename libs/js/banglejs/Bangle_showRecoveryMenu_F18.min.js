(function(){Bangle.setUI();clearTimeout();clearInterval();clearWatch();Bangle.removeAllListeners();E.removeAllListeners();NRF.removeAllListeners();Bangle.setLCDBrightness(1);E.showMenu({"":{title:"Recovery"},"Clean Boot":()=>{reset()},Reboot:()=>{E.reboot()},"Turn Off":()=>{Bangle.off()},"Factory Reset":()=>{E.showPrompt("Are you sure?\nThis will remove all data.",{title:"Factory Reset"}).then(a=>{if(!a)return Bangle.showRecoveryMenu();E.showMessage("Resetting");Bangle.setLCDTimeout(0);
NRF.getSecurityStatus().connected||Terminal.setConsole();Bangle.factoryReset()})},Exit:()=>{0<require("Storage").list().length?(E.showMessage("Loading..."),NRF.getSecurityStatus().connected||Terminal.setConsole(),load()):E.reboot()},"Attempt Compact":()=>{E.showMessage("Compacting...\nMay take\n5 min.");NRF.getSecurityStatus().connected||Terminal.setConsole();require("Storage").compact();E.reboot()},"Rewrite Bootloader":()=>{setTimeout(load,1E3);eval(require("Storage").read("bootupdate.js"))}})})